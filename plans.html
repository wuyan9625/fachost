<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <title>Fachost å¥—é¤æ–¹æ¡ˆ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <script src="assets/js/app.js" defer></script>
  <script src="assets/js/cart.js" defer></script>
</head>
<body>
  <nav class="navbar">
    <div class="logo">Fachost</div>
    <ul class="nav-links">
      <li><a href="index.html">é¦–é </a></li>
      <li><a href="plans.html" class="active">æ–¹æ¡ˆ</a></li>
      <li><a href="dashboard.html">æ§åˆ¶å°</a></li>
      <li><a href="#" id="login-btn">ç™»å…¥</a></li>
      <li><a href="#" id="lang-toggle">EN</a></li>
    </ul>
  </nav>

  <main class="plans-page">
    <h1>é¸æ“‡æ‚¨çš„é›²ä¸»æ©Ÿæ–¹æ¡ˆ</h1>

    <div class="region-tabs">
      <button class="tab-btn active" data-region="tw">TaiWan</button>
      <button class="tab-btn" data-region="hk">HongKong</button>
      <button class="tab-btn" data-region="us">North America</button>
    </div>

    <div class="plans-container" id="plans-container">
      <!-- å¡ç‰‡æœƒç”± JS æ’å…¥ -->
    </div>
  </main>

  <footer>
    <p>è¯çµ¡æˆ‘å€‘ï¼š<a href="mailto:wuyan9625@gmail.com">wuyan9625@gmail.com</a> |
      <a href="https://t.me/https://t.me/+Bz8IaIDyF201M2Rl" target="_blank">Telegram ç¤¾ç¾¤</a></p>
    <p>&copy; 2024 Fachost. All rights reserved.</p>
  </footer>
<script>
fetch('/api/plans')
  .then(res => res.json())
  .then(plans => {
    const container = document.getElementById('plans-container');
    container.innerHTML = '';

    plans.forEach(plan => {
      const card = document.createElement('div');
      card.className = 'plan-card';

      if (plan.status === 'building') {
        card.innerHTML = `
          <h2>${plan.region}</h2>
          <p class="text-gray-500">ğŸš§ å»ºç½®ä¸­ï¼Œæ•¬è«‹æœŸå¾…</p>
        `;
      } else {
        const pricePerRam = (plan.price / plan.ram).toFixed(2);
        card.innerHTML = `
          <h2>${plan.region} - ${plan.cpu}æ ¸ / ${plan.ram}${plan.ram_unit}</h2>
          <p>ç£ç¢Ÿï¼š${plan.disk}</p>
          <p>æµé‡ï¼š${plan.bandwidth}</p>
          <p class="price">åƒ¹æ ¼ï¼š$${plan.price} ${plan.currency}</p>
          <p class="config-price">åƒ¹é…ç½®ï¼š$${pricePerRam} / æ¯ ${plan.ram_unit}</p>
          <button class="buy-btn">ç«‹å³è³¼è²·</button>
        `;
      }

      container.appendChild(card);
    });
  });
</script>
</body>
</html>
